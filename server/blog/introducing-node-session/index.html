<!DOCTYPE html>
<html>
<head>
  <title>Introducing node-session | WegnerDesign</title>
  <link rel="stylesheet" type="text/css" href="/stylesheets/blog.css" />
  <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" />
  <link rel="stylesheet" type="text/css" href="/fonts/stylesheet.css" />
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-19623283-1']);
      _gaq.push(['_setDomainName', 'wegnerdesign.com']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>
  <script type="text/javascript">
    function go() {
      var tweetLink = document.getElementsByClassName("tweet")[0].getElementsByTagName("a")[0];

      var url = encodeURIComponent("http://www.wegnerdesign.com/blog/introducing-node-session");
      var name = encodeURIComponent("Introducing node-session via #WegnerDesign")

      tweetLink.href = "https://twitter.com/intent/tweet?url="+url+"&text="+name;
    }
  </script>
  <meta property="og:type" content="article" />
  <meta property="og:title" content="" />
  <meta property="og:url" content="" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:site_name" content="WegnerDesign" />
</head>
<body onload="go();">
  <div id="socialColumn">
    <div class='tweet'><a target="_blank" href="#"></a></div>
  </div>
  <div id="metaColumn">
    <div id="logo">
      <img src="/images/logo.png" />
    </div>
    <div id="footercontrols">
      <div id="index"><a href="/blog"><img src="/images/index.png" /></a></div><!--
     --><div id="rss"><a href="/feed.xml"><img src="/images/rss.png" /></a></div></div>
    </div>
  </div>
  <div id="post">
    <h2><span class='title'>Introducing node-session</span><span class="date">17 June 2011</span></h2>
    <div id="body">I'm sure that most of you know by now that I've been working on porting <a title="File Drop" href="http://wegnerdesign.com/file-drop/">fileDrop</a> from PHP to Node.js.  I did this for a <a title="Why Node.JS? Security" href="http://wegnerdesign.com/filedrop/why-node-js-security/">couple reasons</a>, but one of my more selfish reasons was for a good excuse to dive into Node.js and really learn it.  With that in mind, I promised myself that I would (or at least try) to write every bit of fileDrop myself.  I didn't want to use any modules that other people had written for me, that way I would get to know the ins and outs of many different facets of Node.js.  This encompassed quite a few things, including a web server, a MySQL interface,  an HTML parser, and tons more stuff that I haven't even gotten to.  A lovely side-effect of doing it this way is that I've written quite a few useful modules that I'm already starting to use in other projects.  I'm releasing the first of these modules today as it's own standalone project: node-session

Node-session fills one of the most crucial gaps when transferring from PHP to Node.js.  In PHP you have the invaluable ability to store variables that are unique to a specific user's session.  This a critical tool - without it you would have to log in to every page you access, every time you access it.  Web sites would never be able to remember any information about you, essentially limiting them down to no-purpose pretty interfaces.  Node-session adds these features to Node.js in an extreamly easy-to-use way, and also with a very lightweight package.  Seriously - the entire <a title="node-session githb" href="https://github.com/josephwegner/node-session">git repository</a> is 3KB zipped.

Using node-session is extremely simple - it's mimicked after how PHP does it, which requires very little interaction.  You can easily run node-session in your program like this:

<pre class="prettyprint lang-js">

var session = require('./node-session.js');

//Start your http server however you like. Imagine the code below is inside of your server loop

var yourSession = session.start(response, request); //response and request are the res/req variables passed from http.createServer()

yourSession.testValue = "A session variable" //Create a session variable called testValue

</pre>

That's it!  One line of code to include the file, one line of code to initiate the user's session, and you're ready to go!  Simply add session variable with yourSession.YourVariableHere!

Now, before you get too involved with node-session, I want to make one thing clear.  Node-session is not supposed to replace the features of any other Node.js web server.  There are <a title="Node.js Modules" href="https://github.com/joyent/node/wiki/modules">tons</a> of great Node.js modules out there, and many of them are web servers that kick the pants off anything I could write.  Node-session is intended for very simple use-cases, where a full web server module may be more than is necessary.  I would love to see node-session used in large production systems, but I encourage you to first dig into my source code to make sure you are comfortable with the feature set of node-session.

&nbsp;

You can download node-session from it's <a title="Node-session Github Repository" href="https://github.com/josephwegner/node-session">github repository</a>.
</div>
    <div id="disqus_thread" style="width: 75%; margin-top: 50px;"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'wegnerdesign'; // required: replace example with your forum shortname
        var disqus_identifier = '';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
  <div id="footer"></div>
</body>
</html>